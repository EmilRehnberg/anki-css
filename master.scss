// Variables
$main-background-color: black;

// Basic Mixins
@mixin bold { font-weight: bold; }
@mixin center { text-align: center; }
@mixin code-background-color { background-color: #222222; }
@mixin colon-content { content: "："; }
@mixin inline-display { display: inline; }
@mixin left { text-align: left; }
@mixin monospace { font-family: Courier, monospace; }
@mixin no-float { float: none; }
@mixin right { text-align: right; }
@mixin scaled-margins($marginScale) {
  margin-top: #{$marginScale}em;
  margin-bottom: #{$marginScale}em;
}
@mixin underline { text-decoration: underline; }
@mixin solid-yell-top-border { border-top: 3px solid turquoise; }
@mixin solid-yell-left-border { border-left: 3px solid turquoise; }

// font-size
@mixin scaled-size($sizeScale) { font-size: #{$sizeScale}em; }
@mixin code-font-size { font-size: 0.6em; }
@mixin midsize-font { font-size: 1em; }
@mixin slightly-smaller-font { font-size: 0.85em; }
@mixin small-font { font-size: 0.7em; }
@mixin large-font { font-size: 1.25em; }
@mixin tiny-font { font-size: 0.5em; }

// normalization mixins
@mixin normal-style {
  font-style: normal;
  font-weight: normal;
  text-decoration: none;
}
@mixin no-margin {
  margin: 0;
}
@mixin no-margin-padding {
  @include no-margin;
  padding: 0px;
}

// color mixins
@mixin blue { color: dodgerblue; }
@mixin brown { color: chocolate; }
@mixin darkgrey { color: #606060; }
@mixin DarkOliveGrey{ color: #596F2F; }
@mixin gold { color: #AA0; }
@mixin green { color: limegreen; }
@mixin grey { color: grey; }
@mixin lightgrey { color: darkgrey; } // in terms of light lightgrey > darkgrey > grey, dunno why
@mixin orange { color: orange; }
@mixin purple { color: darkorchid; }
@mixin red { color: red; }
@mixin white { color: white; }
@mixin yellow { color: yellow; }

@mixin entity-color { color: LightGreen; }

// contrast mixins
@mixin contrast1 {
  color: yellow;
  background-color: green;
}
@mixin contrast2 {
  @include orange;
  background-color: blue;
}
@mixin contrast3 {
  @include red;
  background-color: yellow;
}
@mixin contrast4 {
  color: blue;
  background-color: cyan;
}

// combined mixins
@mixin no-style-brown {
  @include normal-style;
  @include brown;
}

@mixin codelike {
  @include monospace;
  @include left;
  @include code-background-color;
  color: oldlace;
}

@mixin preformatted-block {
  @include code-background-color;
  @include code-font-size;
  @include no-margin-padding;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -o-pre-wrap;
}

// HTML tags
a { @include blue; }
img { background-color: White; }
kbd { @include contrast2; }
summary { color: DarkGoldenRod; }
time { color: Fuchsia; }
aside.column, header.column, nav, section.column { @include center; }

del {
  @include grey;
  @include normal-style;
}

i {
  @include normal-style;
  color: Chartreuse;
}

input {
  @include center;
  @include scaled-size(2);
}

sub {
  @include purple;
  @include tiny-font;
}

u {
  @include no-style-brown;
  color: Crimson;
}

cite, cite.ja { color: crimson; }
cite.ja { @include normal-style; }

dfn {
  @include normal-style;
  color: LawnGreen;
  white-space:pre-wrap;
}
dfn:after {
  content: attr(name);
  color: Khaki;
}
dfn:hover:after { color: #AA0; }
dfn.full:after { content: attr(title); }
dfn.character:hover:after, dfn.person:hover:after {
  content: attr(name) "〔" attr(reading) "〕" attr(ja) "〈" attr(tag) "〉";
}
dfn:before {
  @include orange;
  content: attr(word);
}
#hint > dfn:before { content: ""; }
#hint > dfn:after {
  content: attr(ja);
  color: LawnGreen;
}
#definitions-writer > dfn:after, #namae-writer > dfn:after {
  content: "〔" attr(reading) "〕" attr(ja);
}
#definitions-writer > dfn[reading=""]:after, #namae-writer[reading=""] > dfn:after {
  content: " " attr(ja);
}
#eigo-writer > dfn:after { content: "：" attr(en); }
#chigai-writer > dfn:after { color: DarkCyan; }
#chigai-writer > dfn:before { @include DarkOliveGrey; }
#reading-writer > dfn:after, #chigai-writer > dfn:after {
  content: if(attr(reading), "〔" attr(reading) "〕", "");
}

pre.code-comment {
  @include preformatted-block;
  color: violet;
  background-color: #000;
}
pre.small { @include scaled-size(0.52); }
pre.tiny { @include scaled-size(0.28); }

var {
  @include normal-style;
  color: navajowhite;
}
var.code {
  @include monospace;
  @include code-background-color;
  font-size: 0.8em;
}
var.character { @include gold; }
var.entity { @include entity-color; }
var.location { color: LightSkyBlue; }
var.path { color: Cyan; }
var.person { color: MediumSpringGreen; }

abbr { @include entity-color; }
abbr:after {
  content: attr(id);
  text-transform: uppercase;
}
abbr:hover:after {
  content: attr(title);
  text-transform: capitalize;
  @include lightgrey;
}
abbr.cmdline:after { text-transform: none; }

// paragraph tags
p { @include no-margin; }
p.long-question { @include center } // 長くな質問
p.short-question { // 短くな質問
  color: darkorange;
  @include bold;
  @include underline;
}

// Bold tags
b, b.alt, b.alt2, b.alt3 { @include normal-style; }
b { @include yellow; }
b.alt { @include contrast2; }
b.alt2 { @include contrast3; }
b.alt3 { @include contrast4; }

// Quote tags
q { color: khaki; }
q.ja { quotes: "「" "」""『""』"; }
q.ja:before, q.ja:after { color: aquamarine; }

// blockquote
blockquote {
  @include orange;
  border-left: 3px solid #555;
  margin: 0.5em 10px;
  padding: 0.2em 10px;
  quotes: "\201C""\201D""\2018""\2019";
}
blockquote footer cite { color: darkorange; }
blockquote footer cite:before { content: "\2009 \2014 \2009"; }
blockquote p { display: inline; }
blockquote p:before {
  @include red;
  content: open-quote;
}
blockquote p:after {
  @include red;
  content: close-quote;
}

// Headers
header.column { @include center; }
h1 { @include scaled-margins(0.4); }
h2 { @include scaled-margins(0.3); }
h3 { @include scaled-margins(0.2); }
h4 { @include scaled-margins(0.1); }
h1, h2, h3, h4 { @include no-style-brown; }
h6 {
  @include no-margin;
  @include normal-style;
  @include purple;
}
h6:before {
  @include darkgrey;
  content: "文脈：";
}

// Lists
ul, ol { @include scaled-margins(0.2); }

// nested ordered list numbering
ol { counter-reset: item; }
ol > li { counter-increment: item; }
ol ol > li { display: block; }
ol ol > li:before {
  content: counters(item, ".") ". ";
  margin-left: -20px;
}

//
// detailed lists styling
//
dl { @include scaled-margins(0.1); }
dl.with-fields dt {
  @include grey;
  @include small-font;
}

// dt tags styling
dt {
  @include normal-style;
  @include green;
}
dl.dialogue dt { @include grey; }
dl.dialogue dfn:after { @include grey; }
dl.stack dt {
  @include no-float;
  @include inline-display;
  @include no-margin-padding;
}
dl.stack dd dt { @include yellow; }
dl.stack dt:after { @include colon-content; }
dl.compact dt {
  @include no-float;
  @include inline-display;
  clear: none;
  margin-left: 1em;
}
dl.compact dt:after { @include colon-content; }
dl#onyomi-imports dt { color: darkred; } // 種類音読み
dl dt#onyomi { // 音読み
  @include brown;
  @include midsize-font;
}
dl dt#kunyomi { // 訓読み
  @include blue;
  @include midsize-font;
}

// dd tags styling
dl.dialogue dd { margin: 0 0 0 0.2em; }
dl.dialogue dd:after {
  content: "」";
  @include darkgrey;
}
dl.dialogue dd:before {
  content: "「";
  @include darkgrey;
}
dl.stack dd {
  @include no-float;
  @include inline-display;
  @include no-margin-padding;
}
dl.stack dd:after {
  content: "\a";
  white-space: pre;
}
dl.compact dd {
  @include no-float;
  @include inline-display;
  margin: 0.2em;
}
dl.compact dd:after { content:""; }
dl dd#wrong-reading { @include darkgrey; } // 違い読み

hl {
  @include large-font;
  color: tomato;
}

// Figures
figure {
  @include no-margin;
  @include no-float;
}
figure img { display: table; }
figcaption {
  @include small-font;
  position: static;
}

// span tags
span.comment { @include grey }
span.error { @include red } // エッラー
span.reading-no { @include green } // 読みの数
span#onyomi { @include brown } // 音読み
span#kunyomi { @include blue } // 訓読み

span.correct-answer { // 正解
  @include underline;
  @include large-font;
  @include green;
}

span.correct-japanese { // 正解日本語
  font: osaka, minchin;
  @include large-font;
  @include green;
}

// Table related tags
table {
  @include monospace;
  border-collapse: collapse;
}
table.small { @include tiny-font; }
tr.total { @include solid-yell-top-border; }
th.total, td.total { @include solid-yell-left-border; }

th {
  @include contrast3;
  @include normal-style;
  @include right;
  padding: 0.16em 0em 0em 0.3em;
  border: 1px solid black;
}

td {
  @include normal-style;
  @include center;
  padding: 0.16em 0.3em 0em 0.3em; // top, right, bottom & left padding
  border: 1px solid yellow;
}

caption {
  @include bold;
  color: cyan;
}

// code related tags
code, samp { @include codelike; }
code pre, samp pre { @include preformatted-block; }
samp {
  @include grey;
}

// classes
.card {
  @include left;
  font-family: arial;
  font-size: 26px;
  color: white;
  background-color: $main-background-color;
}

.cloze {
  @include orange;
  background-color: indigo;
}

