@import "person-names",
  "words-a",
  "words-ka", "words-ga",
  "words-sa", "words-za",
  "words-ta", "words-da",
  "words-na",
  "words-ha", "words-ba", "words-pa",
  "words-ma",
  "words-ya",
  "words-ra",
  "words-wa";

// use a map of maps as lists can not contain proper maps
$wordsets: (
  a: $a,
  ka: $ka,
  ga: $ga,
  sa: $sa,
  za: $za,
  ta: $ta,
  da: $da,
  na: $na,
  ha: $ha,
  ba: $ba,
  pa: $pa,
  ma: $ma,
  ya: $ya,
  ra: $ra,
  wa: $wa,
);
@each $set-name, $set-data in $wordsets {
  @each $word, $definition in $set-data {
    $reading: if(nth($definition, 1), "〔#{nth($definition, 1)}〕", "：");
    $ja: nth($definition, 2);
    $en: nth($definition, 3);
    dfn##{$word}:before { content: attr(id); }
    dfn##{$word}:after { content: "#{$reading}#{$ja}\A"; }
    dfn.en##{$word}:after { content: "：#{$en}\A"; }
    dfn.reading##{$word}:after { content: $reading; }
    dfn.definition##{$word}:before { content: ""; }
    dfn.definition##{$word}:after { content: "#{$ja}\A"; }
  }
}

$namesets: (
  person-names: $person-names
);
@each $set-name, $set-data in $namesets {
  @each $name, $data in $set-data {
    dfn##{$name}:hover:after {
      @include gold;
      content: "#{$name}〔#{nth($data, 1)}〕#{nth($data, 2)}〈#{nth($data, 3)}〉";
    }
  }
}

dfn.full:after { content: attr(title); }
